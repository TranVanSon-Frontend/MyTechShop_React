<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Giỏ Hàng</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="templet.css">
</head>
<body>
<div class="container py-5">
    <!-- Breadcrumb -->
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="#">Trang chủ</a></li>
            <li class="breadcrumb-item active" aria-current="page">Giỏ hàng</li>
        </ol>
    </nav>

    <!-- Giỏ hàng -->
    <h3>Giỏ hàng của bạn</h3>
    <div class="table-responsive">
        <table class="table">
            <thead>
                <tr>
                    <th scope="col">Hình ảnh</th>
                    <th scope="col">Sản phẩm</th>
                    <th scope="col">Giá</th>
                    <th scope="col">Số lượng</th>
                    <th scope="col">Tổng</th>
                    <th scope="col">Xóa</th>
                </tr>
            </thead>
            <tbody>
                <!-- Sản phẩm trong giỏ hàng -->
                <tr>
                    <td><img src="https://via.placeholder.com/100" alt="Sản phẩm" class="img-fluid"></td>
                    <td>iPhone 15 Pro Max - 128GB</td>
                    <td>21,690,000 ₫</td>
                    <td>
                        <input type="number" class="form-control w-25" value="1" min="1">
                    </td>
                    <td><span class="total-price">21,690,000 ₫</span></td>
                    <td><button class="btn btn-danger btn-sm">Xóa</button></td>
                </tr>
                <tr>
                    <td><img src="https://via.placeholder.com/100" alt="Sản phẩm" class="img-fluid"></td>
                    <td>iPhone 15 Pro Max - 256GB</td>
                    <td>23,690,000 ₫</td>
                    <td>
                        <input type="number" class="form-control w-25" value="1" min="1">
                    </td>
                    <td><span class="total-price">23,690,000 ₫</span></td>
                    <td><button class="btn btn-danger btn-sm">Xóa</button></td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Tổng tiền -->
    <div class="d-flex justify-content-between mt-4">
        <h4>Tổng tiền</h4>
        <h4><span id="total-price-all">45,380,000 ₫</span></h4>
    </div>

    <!-- Nút thanh toán -->
    <div class="mt-4">
        <a href="checkout.html" class="btn btn-success">Tiến hành thanh toán</a>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
<script>
    // Cập nhật tổng tiền khi thay đổi số lượng sản phẩm
    document.querySelectorAll('input[type="number"]').forEach(input => {
        input.addEventListener('input', function() {
            let row = this.closest('tr');
            let price = parseInt(row.cells[2].innerText.replace(/[^\d]/g, ''));
            let quantity = parseInt(this.value);
            let total = price * quantity;
            row.querySelector('.total-price').innerText = total.toLocaleString() + ' ₫';
            updateTotalPrice();
        });
    });

    // Cập nhật tổng tiền của giỏ hàng
    function updateTotalPrice() {
        let total = 0;
        document.querySelectorAll('.total-price').forEach(item => {
            total += parseInt(item.innerText.replace(/[^\d]/g, ''));
        });
        document.getElementById('total-price-all').innerText = total.toLocaleString() + ' ₫';
    }

    // Xóa sản phẩm trong giỏ hàng
    document.querySelectorAll('.btn-danger').forEach(button => {
        button.addEventListener('click', function() {
            let row = this.closest('tr');
            row.remove();
            updateTotalPrice();
        });
    });
</script>
</body>
</html>
